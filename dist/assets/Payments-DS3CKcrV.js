import{j as e,N as P,F as I}from"./index-BR_n0HI9.js";import{r as i}from"./react-core-Ljpx9oFu.js";import{u as F}from"./useAuth-4QJvpUN4.js";import{p as C}from"./register-DvUBbC6m.js";import{c as D,a as S,r as T,b as M,d as R,e as E}from"./book-CEM827Ui.js";import{P as A,a as $}from"./PaymentHistory-sC9dcu3Z.js";import"./vendor-B9ygI19o.js";import"./api-B_kgTFai.js";import"./fileUtils-D5euisqX.js";const q="/assets/payment-Bb2ycW_4.webp",B=[{title:"Multi-Channel",subtitle:"Payment Proof",img:D},{title:"Smart",subtitle:"Auto Matching",img:S},{title:"Real-Time",subtitle:"Status Tracking",img:T},{title:"Secure",subtitle:"File Storage",img:M},{title:"Payment History",subtitle:"with Attachments",img:R},{title:"Exportable",subtitle:"Reports",img:E}];function G(){const[b,y]=i.useState([]),f=i.useRef([]),o=i.useRef(null),{isResident:j}=F(),[r,m]=i.useState({charge:"",amountPaid:"",transactionDate:"",transactionTime:"",receiptImage:null,remarks:""}),[N,x]=i.useState("No file chosen"),[h,p]=i.useState({type:null,message:""}),[l,d]=i.useState("dues"),v=()=>{const a=document.getElementById("payment-features");a&&a.scrollIntoView({behavior:"smooth"})},c=a=>{const{name:t,value:s}=a.target;m(n=>({...n,[t]:s}))},w=a=>{const t=a.target.files[0];t?(m(s=>({...s,receiptImage:t})),x(t.name)):(m(s=>({...s,receiptImage:null})),x("No file chosen"))},k=a=>{a.preventDefault(),p({type:null,message:""});try{console.log("Form submitted:",r),p({type:"success",message:"Payment receipt submitted successfully!"}),m({charge:"",amountPaid:"",transactionDate:"",transactionTime:"",receiptImage:null,remarks:""}),x("No file chosen")}catch{p({type:"error",message:"There was an error submitting your receipt. Please try again."})}};return i.useEffect(()=>{const a="gf-dm-serif";if(!document.getElementById(a)){const t=document.createElement("link");t.id=a,t.rel="stylesheet",t.href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&display=swap",document.head.appendChild(t)}return o.current=new IntersectionObserver(t=>{t.forEach(s=>{var n;if(s.isIntersecting){const u=Number(s.target.getAttribute("data-index"));y(g=>g.includes(u)?g:[...g,u]),(n=o.current)==null||n.unobserve(s.target)}})},{threshold:.1,rootMargin:"50px"}),f.current.forEach(t=>{var s;t&&((s=o.current)==null||s.observe(t))}),()=>{o.current&&o.current.disconnect()}},[]),e.jsxs("div",{className:"min-h-screen",children:[e.jsx(P,{}),e.jsxs("header",{className:"relative bg-center bg-cover h-[650px] md:h-[740px] flex flex-col items-center justify-center",style:{backgroundImage:`url(${C})`},children:[e.jsx("div",{className:"absolute inset-0 bg-black/55"}),e.jsxs("div",{className:"relative z-10 text-center text-white px-6 mt-20 md:mt-32",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-semibold opacity-0 animate-fadeIn mb-6",children:"Payment Management"}),e.jsx("img",{src:q,alt:"Payment Management Illustration",className:"mx-auto w-60 md:w-[420px] opacity-0 animate-fadeInSlow"}),e.jsx("button",{onClick:v,className:"mt-6 inline-block bg-[#0f335b] hover:bg-[#173f77] text-white font-semibold px-6 py-2 rounded-md transition-all duration-300 opacity-0 animate-fadeInSlower",children:"Learn More"})]})]}),e.jsxs("main",{className:"bg-[#c3c5ce]",children:[e.jsxs("section",{id:"payment-features",className:"max-w-none px-4 sm:px-6 py-20",children:[e.jsx("h2",{className:"text-center text-4xl md:text-5xl font-normal mb-14 text-[#06164a]",style:{fontFamily:"'DM Serif Display', serif"},children:"Key Features"}),e.jsx("div",{className:`rounded-xl bg-[#06164a] \r
              px-6 sm:px-10 md:px-20 lg:px-32 xl:px-48 \r
              py-12 mx-auto w-full max-w-[1800px]`,children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-16 gap-y-12",children:B.map(({title:a,subtitle:t,img:s},n)=>e.jsxs("div",{ref:u=>f.current[n]=u,"data-index":n,className:`rounded-xl overflow-hidden border-[3px] border-white/40 bg-white/5 transform transition-all duration-500 ease-out hover:scale-105 hover:bg-white/10 hover:shadow-2xl h-[300px] will-change-transform
                    ${b.includes(n)?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:b.includes(n)?`${n*100}ms`:"0ms"},children:[e.jsx("img",{src:s,alt:`${a} ${t}`,className:"h-[75%] w-full object-cover transition-all duration-300 hover:brightness-110",loading:"lazy"}),e.jsx("div",{className:"h-[25%] p-5 text-center text-white flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-normal leading-relaxed",children:[a,e.jsx("br",{}),t]})})]},n))})})]}),j&&e.jsxs("section",{className:"max-w-6xl mx-auto px-4 sm:px-6 pb-20",children:[e.jsx("h2",{className:"text-center text-4xl md:text-5xl font-normal mb-8 text-[#06164a]",style:{fontFamily:"'DM Serif Display', serif"},children:"Payment Management"}),e.jsxs("div",{className:"flex gap-3 justify-center mb-10",children:[e.jsx("button",{onClick:()=>d("dues"),className:l==="dues"?"px-4 py-2 rounded-md bg-[#06164a] text-white":"px-4 py-2 rounded-md bg-white text-[#06164a] border border-[#06164a]",children:"Pending Dues"}),e.jsx("button",{onClick:()=>d("payment"),className:l==="payment"?"px-4 py-2 rounded-md bg-[#06164a] text-white":"px-4 py-2 rounded-md bg-white text-[#06164a] border border-[#06164a]",children:"Make Payment"}),e.jsx("button",{onClick:()=>d("history"),className:l==="history"?"px-4 py-2 rounded-md bg-[#06164a] text-white":"px-4 py-2 rounded-md bg-white text-[#06164a] border border-[#06164a]",children:"Payment History"})]}),l==="dues"&&e.jsx(A,{onPayNow:()=>d("payment")}),l==="payment"&&e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h3",{className:"text-2xl font-semibold text-[#06164a] mb-6",children:"Upload Payment Receipt"}),e.jsxs("form",{onSubmit:k,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"charge",className:"block text-base font-medium text-[#06164a] mb-2",children:"Charge"}),e.jsxs("select",{id:"charge",name:"charge",value:r.charge,onChange:c,required:!0,className:"w-full px-4 py-3 bg-[#06164a] text-white rounded-md focus:outline-none focus:ring-2 focus:ring-[#06164a] transition-all",children:[e.jsx("option",{value:"",children:"Select Charge"}),e.jsx("option",{value:"maintenance",children:"Maintenance Fee"}),e.jsx("option",{value:"parking",children:"Parking Fee"}),e.jsx("option",{value:"utility",children:"Utility Bill"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"amountPaid",className:"block text-base font-medium text-[#06164a] mb-2",children:"Amount Paid"}),e.jsx("input",{type:"number",id:"amountPaid",name:"amountPaid",value:r.amountPaid,onChange:c,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-3 bg-[#06164a] text-white rounded-md focus:outline-none focus:ring-2 focus:ring-[#06164a] transition-all placeholder-white/60",placeholder:"Enter amount"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"transactionDate",className:"block text-base font-medium text-[#06164a] mb-2",children:"Transaction Date"}),e.jsx("input",{type:"date",id:"transactionDate",name:"transactionDate",value:r.transactionDate,onChange:c,required:!0,className:"w-full px-4 py-3 bg-[#06164a] text-white rounded-md focus:outline-none focus:ring-2 focus:ring-[#06164a] transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"transactionTime",className:"block text-base font-medium text-[#06164a] mb-2",children:"Transaction Time"}),e.jsx("input",{type:"time",id:"transactionTime",name:"transactionTime",value:r.transactionTime,onChange:c,required:!0,className:"w-full px-4 py-3 bg-[#06164a] text-white rounded-md focus:outline-none focus:ring-2 focus:ring-[#06164a] transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#06164a] mb-2",children:"Upload Receipt Image (Optional)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"receiptImage",className:"px-6 py-3 bg-[#06164a] text-white rounded-md cursor-pointer hover:bg-[#0f335b] transition-all font-medium",children:"Choose File"}),e.jsx("span",{className:"text-[#06164a] text-sm",children:N}),e.jsx("input",{type:"file",id:"receiptImage",name:"receiptImage",onChange:w,accept:"image/*",className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"remarks",className:"block text-base font-medium text-[#06164a] mb-2",children:"Note (Optional)"}),e.jsx("textarea",{id:"remarks",name:"remarks",value:r.remarks,onChange:c,rows:"4",className:"w-full px-4 py-3 bg-[#06164a] text-white rounded-md focus:outline-none focus:ring-2 focus:ring-[#06164a] transition-all resize-none placeholder-white/60",placeholder:"Any additional details"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"px-6 py-3 bg-[#06164a] text-white font-semibold rounded-md hover:bg-[#0f335b] transition-all duration-300",children:"Submit Receipt"})}),h.type&&e.jsx("div",{className:h.type==="success"?"mt-4 rounded-md border border-green-400 bg-green-100 text-green-800 px-4 py-3":"mt-4 rounded-md border border-red-400 bg-red-100 text-red-800 px-4 py-3",children:h.message})]})]}),l==="history"&&e.jsx($,{})]})]}),e.jsx(I,{})]})}export{G as default};
