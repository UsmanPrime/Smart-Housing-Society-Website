const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CCpieWfV.css","assets/index-DSpZquNv.css"])))=>i.map(i=>d[i]);
import{j as e,N as S,r as _,F as E,_ as g}from"./index-BR_n0HI9.js";import{r as a,u as C,L as w}from"./react-core-Ljpx9oFu.js";import{a as L}from"./vendor-B9ygI19o.js";import{A as F}from"./api-B_kgTFai.js";const I="/assets/login-Dr670vR_.jpeg";function z(){const[c,y]=a.useState(""),[d,v]=a.useState(""),[j,N]=a.useState(!1),[i,u]=a.useState(!1),[m,o]=a.useState(""),[x,k]=a.useState(!1),n=C();a.useEffect(()=>{(async()=>{await Promise.all([g(()=>Promise.resolve({}),__vite__mapDeps([0])),g(()=>Promise.resolve({}),__vite__mapDeps([1]))])})();const r=setTimeout(()=>N(!0),20);return()=>{clearTimeout(r)}},[]);const P=async t=>{var r,p,f,h;if(t.preventDefault(),o(""),!x){o("Please verify that you are not a robot");return}u(!0);try{const l=`${F}/api/auth/login`,s=await L.post(l,{email:c,password:d});if((r=s.data)!=null&&r.success){localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user));const b=s.data.user.role;n(b==="admin"?"/dashboard/admin":b==="vendor"?"/dashboard/vendor":"/dashboard/resident")}else o(((p=s.data)==null?void 0:p.message)||"Login failed")}catch(l){const s=((h=(f=l.response)==null?void 0:f.data)==null?void 0:h.message)||"Login failed. Please check your credentials.";o(s)}finally{u(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(S,{}),e.jsx("style",{children:`
        /* Prevent Chrome autofill from changing background to white */
        input:-webkit-autofill,
        input:-webkit-autofill:hover,
        input:-webkit-autofill:focus,
        input:-webkit-autofill:active {
          -webkit-box-shadow: 0 0 0px 1000px #0b1a4a inset !important;
          box-shadow: 0 0 0px 1000px #0b1a4a inset !important;
          -webkit-text-fill-color: #ffffff !important;
        }

        input:-moz-autofill {
          box-shadow: 0 0 0px 1000px #0b1a4a inset !important;
          -moz-text-fill-color: #ffffff !important;
        }
      `}),e.jsxs("main",{className:"relative flex-grow flex items-center justify-center min-h-screen pt-32 md:pt-40",style:{backgroundImage:`url(${I})`,backgroundPosition:"top center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/45 pointer-events-none"}),e.jsx("div",{className:`
            relative z-10 w-full max-w-4xl px-6 md:px-8
            transform transition-all duration-500 ease-out
            ${j?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-6 scale-95"}
          `,children:e.jsxs("div",{className:"mx-auto max-w-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-normal text-white mb-2",style:{fontFamily:'"DM Serif Display", serif'},children:"Login"}),e.jsx("p",{className:"text-lg text-white/90",style:{fontFamily:"Poppins, sans-serif"},children:"Log in to NextGen Residency"})]}),e.jsxs("form",{className:"space-y-8",onSubmit:P,children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium text-white/90 mb-3",style:{fontFamily:"Poppins, sans-serif"},children:"Email"}),e.jsx("input",{type:"email",autoComplete:"email",required:!0,value:c,onChange:t=>y(t.target.value),placeholder:"Enter your email",style:{backgroundColor:"#0b1a4a"},className:"w-full px-8 py-5 rounded-xl text-white text-lg placeholder-white/70 border border-white/10 focus:outline-none focus:ring-2 focus:ring-white/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium text-white/90 mb-3",style:{fontFamily:"Poppins, sans-serif"},children:"Password"}),e.jsx("input",{type:"password",autoComplete:"current-password",required:!0,value:d,onChange:t=>v(t.target.value),placeholder:"Enter your password",style:{backgroundColor:"#0b1a4a"},className:"w-full px-8 py-5 rounded-xl text-white text-lg placeholder-white/70 border border-white/10 focus:outline-none focus:ring-2 focus:ring-white/30"})]})]}),e.jsxs("div",{className:"flex items-center gap-6 py-3 px-6 bg-[#0b1a4a] w-fit border border-white/10",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-white/30 flex items-center justify-center",children:e.jsx("input",{type:"checkbox",checked:x,onChange:t=>k(t.target.checked),className:"w-4 h-4 cursor-pointer",id:"recaptcha"})}),e.jsx("label",{htmlFor:"recaptcha",className:"text-white/90 text-base cursor-pointer",style:{fontFamily:"Poppins, sans-serif"},children:"I'm not a robot"}),e.jsx("img",{src:_,alt:"reCAPTCHA",className:"w-8 h-8 ml-2"})]}),e.jsx("div",{className:"border-t border-white/30 my-6"}),m&&e.jsx("div",{className:"bg-red-500/20 text-red-100 border border-red-500/30 rounded-xl p-4",children:m}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:`group relative w-32 md:w-40 flex justify-center py-3 px-4 border border-transparent text-base font-medium rounded-md text-white bg-[#0b1a4a] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0b1a4a] ${i?"opacity-60 cursor-not-allowed":"hover:opacity-95"}`,children:i?"Logging in...":"Login"})}),e.jsxs("div",{className:"text-left space-y-2 pt-4",children:[e.jsx("div",{children:e.jsxs("span",{className:"text-base text-white/90",children:["Don't have an account?"," ",e.jsx(w,{to:"/signup",className:"underline",children:"Sign Up"})]})}),e.jsx("div",{children:e.jsx(w,{to:"/forgot-password",className:"text-base text-white/90 underline",children:"Forget Your Password?"})})]})]})]})})]}),e.jsx(E,{})]})}export{z as default};
