const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CCpieWfV.css","assets/index-DSpZquNv.css"])))=>i.map(i=>d[i]);
import{j as e,N as I,r as L,F as C,_ as v}from"./index-DJsc_qVc.js";import{r as s,u as F,L as j}from"./react-core-Ljpx9oFu.js";import{a as A}from"./vendor-B9ygI19o.js";const R="/assets/login-Dr670vR_.jpeg";function $(){const[c,N]=s.useState(""),[d,k]=s.useState(""),[P,_]=s.useState(!1),[i,u]=s.useState(!1),[m,o]=s.useState(""),[x,S]=s.useState(!1),n=F();s.useEffect(()=>{(async()=>{await Promise.all([v(()=>Promise.resolve({}),__vite__mapDeps([0])),v(()=>Promise.resolve({}),__vite__mapDeps([1]))])})();const r=setTimeout(()=>_(!0),20);return()=>{clearTimeout(r)}},[]);const E=async t=>{var r,p,f,h,b,g;if(t.preventDefault(),o(""),!x){o("Please verify that you are not a robot");return}u(!0);try{const l=`${(((p=(r=import.meta)==null?void 0:r.env)==null?void 0:p.VITE_API_BASE_URL)||"").trim()}/api/auth/login`,a=await A.post(l,{email:c,password:d});if((f=a.data)!=null&&f.success){localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user));const y=a.data.user.role;n(y==="admin"?"/dashboard/admin":y==="vendor"?"/dashboard/vendor":"/dashboard/resident")}else o(((h=a.data)==null?void 0:h.message)||"Login failed")}catch(w){const l=((g=(b=w.response)==null?void 0:b.data)==null?void 0:g.message)||"Login failed. Please check your credentials.";o(l)}finally{u(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(I,{}),e.jsx("style",{children:`
        /* Prevent Chrome autofill from changing background to white */
        input:-webkit-autofill,
        input:-webkit-autofill:hover,
        input:-webkit-autofill:focus,
        input:-webkit-autofill:active {
          -webkit-box-shadow: 0 0 0px 1000px #0b1a4a inset !important;
          box-shadow: 0 0 0px 1000px #0b1a4a inset !important;
          -webkit-text-fill-color: #ffffff !important;
        }

        input:-moz-autofill {
          box-shadow: 0 0 0px 1000px #0b1a4a inset !important;
          -moz-text-fill-color: #ffffff !important;
        }
      `}),e.jsxs("main",{className:"relative flex-grow flex items-center justify-center min-h-screen pt-32 md:pt-40",style:{backgroundImage:`url(${R})`,backgroundPosition:"top center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/45 pointer-events-none"}),e.jsx("div",{className:`
            relative z-10 w-full max-w-4xl px-6 md:px-8
            transform transition-all duration-500 ease-out
            ${P?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-6 scale-95"}
          `,children:e.jsxs("div",{className:"mx-auto max-w-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-normal text-white mb-2",style:{fontFamily:'"DM Serif Display", serif'},children:"Login"}),e.jsx("p",{className:"text-lg text-white/90",style:{fontFamily:"Poppins, sans-serif"},children:"Log in to NextGen Residency"})]}),e.jsxs("form",{className:"space-y-8",onSubmit:E,children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium text-white/90 mb-3",style:{fontFamily:"Poppins, sans-serif"},children:"Email"}),e.jsx("input",{type:"email",autoComplete:"email",required:!0,value:c,onChange:t=>N(t.target.value),placeholder:"Enter your email",style:{backgroundColor:"#0b1a4a"},className:"w-full px-8 py-5 rounded-xl text-white text-lg placeholder-white/70 border border-white/10 focus:outline-none focus:ring-2 focus:ring-white/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium text-white/90 mb-3",style:{fontFamily:"Poppins, sans-serif"},children:"Password"}),e.jsx("input",{type:"password",autoComplete:"current-password",required:!0,value:d,onChange:t=>k(t.target.value),placeholder:"Enter your password",style:{backgroundColor:"#0b1a4a"},className:"w-full px-8 py-5 rounded-xl text-white text-lg placeholder-white/70 border border-white/10 focus:outline-none focus:ring-2 focus:ring-white/30"})]})]}),e.jsxs("div",{className:"flex items-center gap-6 py-3 px-6 bg-[#0b1a4a] w-fit border border-white/10",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-white/30 flex items-center justify-center",children:e.jsx("input",{type:"checkbox",checked:x,onChange:t=>S(t.target.checked),className:"w-4 h-4 cursor-pointer",id:"recaptcha"})}),e.jsx("label",{htmlFor:"recaptcha",className:"text-white/90 text-base cursor-pointer",style:{fontFamily:"Poppins, sans-serif"},children:"I'm not a robot"}),e.jsx("img",{src:L,alt:"reCAPTCHA",className:"w-8 h-8 ml-2"})]}),e.jsx("div",{className:"border-t border-white/30 my-6"}),m&&e.jsx("div",{className:"bg-red-500/20 text-red-100 border border-red-500/30 rounded-xl p-4",children:m}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:`group relative w-32 md:w-40 flex justify-center py-3 px-4 border border-transparent text-base font-medium rounded-md text-white bg-[#0b1a4a] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0b1a4a] ${i?"opacity-60 cursor-not-allowed":"hover:opacity-95"}`,children:i?"Logging in...":"Login"})}),e.jsxs("div",{className:"text-left space-y-2 pt-4",children:[e.jsx("div",{children:e.jsxs("span",{className:"text-base text-white/90",children:["Don't have an account?"," ",e.jsx(j,{to:"/signup",className:"underline",children:"Sign Up"})]})}),e.jsx("div",{children:e.jsx(j,{to:"/forgot-password",className:"text-base text-white/90 underline",children:"Forget Your Password?"})})]})]})]})})]}),e.jsx(C,{})]})}export{$ as default};
