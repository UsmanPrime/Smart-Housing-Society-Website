import{j as s}from"./index-BR_n0HI9.js";import{r as x}from"./react-core-Ljpx9oFu.js";const f=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function m(e){return f.format(Number(e||0))}function h(e){const l=Number(e||0);return`${(l>1?l:l*100).toFixed(2)}%`}function b({metrics:e}){return e?s.jsxs("div",{className:"bg-white rounded-xl shadow p-5 flex flex-col",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#06164a] mb-4",children:"Payment Summary"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Collected"}),s.jsx("span",{className:"font-medium",children:m(e.totalCollected)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Pending Payments"}),s.jsx("span",{className:"font-medium",children:e.pendingCount})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Overdue Payments"}),s.jsx("span",{className:"font-medium",children:e.overdueCount})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Success Rate"}),s.jsx("span",{className:"font-medium",children:h(e.successRate)})]})]})]}):null}function y({metrics:e}){return e?s.jsxs("div",{className:"bg-white rounded-xl shadow p-5 flex flex-col",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#06164a] mb-4",children:"User Statistics"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Users"}),s.jsx("span",{className:"font-medium",children:e.totalUsers})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Active Users"}),s.jsx("span",{className:"font-medium",children:e.activeUsers})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"New Registrations"}),s.jsx("span",{className:"font-medium",children:e.newRegistrations})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Activity Rate"}),s.jsx("span",{className:"font-medium",children:h(e.activityRate)})]})]})]}):null}function v({activity:e=[]}){const[l,a]=x.useState("line"),d=x.useMemo(()=>{const n=e.flatMap(i=>[i.logins,i.bookings,i.payments]);return Math.max(1,...n)},[e]),t={logins:"#0f335b",bookings:"#6b46c1",payments:"#c53030"},r=n=>{const i=e.length,c=100/Math.max(1,i-1);return e.map((o,u)=>{const j=u*c,p=100-Math.round(o[n]/d*100);return`${j},${p}`}).join(" ")};return s.jsxs("div",{className:"bg-white rounded-xl shadow p-5 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#06164a]",children:"Activity (14 days)"}),s.jsxs("button",{onClick:()=>a(n=>n==="line"?"bar":"line"),className:"px-3 py-1 rounded bg-[#06164a] text-white text-xs",children:["Toggle ",l==="line"?"Bar":"Line"]})]}),s.jsxs("div",{className:"flex gap-4 text-xs mb-3",children:[s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded",style:{background:t.logins}})," Logins"]}),s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded",style:{background:t.bookings}})," Bookings"]}),s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded",style:{background:t.payments}})," Payments"]})]}),l==="line"?s.jsx("div",{className:"w-full h-64 bg-slate-50 rounded",children:s.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"w-full h-full",children:[[25,50,75].map(n=>s.jsx("line",{x1:"0",y1:n,x2:"100",y2:n,stroke:"#e5e7eb",strokeWidth:"0.3"},n)),s.jsx("polyline",{points:r("logins"),fill:"none",stroke:t.logins,strokeWidth:"1.2"}),s.jsx("polyline",{points:r("bookings"),fill:"none",stroke:t.bookings,strokeWidth:"1.2"}),s.jsx("polyline",{points:r("payments"),fill:"none",stroke:t.payments,strokeWidth:"1.2"})]})}):s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:e.map(n=>{const i=Math.round(n.logins/d*100),c=Math.round(n.bookings/d*100),o=Math.round(n.payments/d*100);return s.jsxs("div",{className:"p-3 rounded border",children:[s.jsx("div",{className:"text-xs text-gray-600 mb-2",children:n.date}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"h-2 bg-gray-200 rounded",children:s.jsx("div",{className:"h-2 rounded",style:{width:`${i}%`,background:t.logins}})}),s.jsx("div",{className:"h-2 bg-gray-200 rounded",children:s.jsx("div",{className:"h-2 rounded",style:{width:`${c}%`,background:t.bookings}})}),s.jsx("div",{className:"h-2 bg-gray-200 rounded",children:s.jsx("div",{className:"h-2 rounded",style:{width:`${o}%`,background:t.payments}})})]})]},n.date)})})})]})}function w({trend:e}){if(!e)return null;const l=Math.max(1,...e.map(a=>a.amount));return s.jsxs("div",{className:"bg-white rounded-xl shadow p-5",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#06164a] mb-4",children:"Payment Trends (6 months)"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.map(a=>s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded border",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:a.month}),s.jsxs("div",{className:"text-gray-600 text-xs",children:["Prev: ",m(a.prevAmount)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#06164a]",children:m(a.amount)})]},a.month))}),s.jsx("div",{className:"mt-4 space-y-2",children:e.map(a=>{const d=Math.round(a.amount/l*100);return s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:a.month}),s.jsx("div",{className:"h-2 bg-gray-200 rounded",children:s.jsx("div",{className:"h-2 bg-[#0f335b] rounded",style:{width:`${d}%`}})})]},`bar-${a.month}`)})})]})}export{v as A,b as P,y as U,w as a};
