const c="http://localhost:5000",l=e=>e?e.split("/").pop():"",d=e=>{if(!e)return"";const o=l(e);return`${c}/api/files/receipts/${o}`},s=e=>{if(!e)return"unknown";const o=e.toLowerCase();return/\.(png|jpe?g|webp|gif|svg)$/i.test(o)?"image":/\.pdf$/i.test(o)?"pdf":"unknown"},w=e=>s(e)==="image",f=e=>s(e)==="pdf",g=async(e,o)=>{try{const t=localStorage.getItem("token"),n=await fetch(e,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("Failed to download file");const i=await n.blob(),a=window.URL.createObjectURL(i),r=document.createElement("a");r.href=a,r.download=o||"download",r.click(),window.URL.revokeObjectURL(a)}catch(t){throw console.error("Download error:",t),t}};export{f as a,g as d,d as g,w as i};
